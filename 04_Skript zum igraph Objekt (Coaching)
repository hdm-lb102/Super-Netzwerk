### SKRIPT SUPERMÄRKTE ###


## Zusammenfügen der Edge- und Nodelist

library(igraph)
el <- read.csv("https://raw.githubusercontent.com/hdm-lb102/Super-Netzwerk/master/01_Edgelist_finale%20Datenerhebung.csv", header=T, as.is=T, sep = ",")
nodes <- read.csv("https://raw.githubusercontent.com/hdm-lb102/Super-Netzwerk/master/02_Nodelist_finale%20Datenerhebung.csv", header=T, as.is=T, sep = ",")
head(el)
head(nodes)

# igraph-Objekt aus edgelist erstellen
hties <-as.matrix(el)

super <- graph_from_data_frame(d=hties, vertices=nodes, directed=T)
plot(super)


# Anpassung der Knotengröße nach Degree-Wert

ds <- degree(super)
par(mfrow=c(1,1))
plot(super, vertex.size=ds)


# Formanpassung der Knoten

V(super)$shape = "circle"

aldi <- V(super)[zugehoerigkeitdermarke == "4"]
aldi
V(super)[aldi]$shape = "square"
plot(super, vertex.size=ds)

rewepenny <- V(super)[zugehoerigkeitdermarke == "2"]
rewepenny
V(super)[rewepenny]$shape = "circle"
plot(super, vertex.size=ds)

lidlkaufland <- V(super)[zugehoerigkeitdermarke == "4"]
lidlkaufland
V(super)[aldi]$shape = "rectangle"
plot(super, vertex.size=ds)

edekanetto <- V(super)[zugehoerigkeitdermarke == "4"]
edekanetto
V(super)[aldi]$shape = "vrectangle"
plot(super, vertex.size=ds)

real <- V(super)[zugehoerigkeitdermarke == "4"]
real
V(super)[aldi]$shape = "pie"
plot(super, vertex.size=ds)


# Farben der Kanten zuweisen

#snegativ <- subgraph.edges(super, E(super)[relationship < "3"])
#spositiv <- subgraph.edges(super, E(super)[relationship > "2"])
#plot(snegativ)
#spositiv
#E(snegativ)$color <- "red"
#plot(snegativ)
#E(spositiv)$color <- "green"
#plot(spositiv)

edge.attributes(super)$relationship
colrs <-c("red", "green")
E(spositiv)$color <-E(super)$relationship
plot(super)
